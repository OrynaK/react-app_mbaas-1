{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 4910fb674d300a06c54a","webpack:///./src/utils.js","webpack:///external \"buffer\"","webpack:///./src/request.js","webpack:///./src/index.js","webpack:///./src/client-node.js","webpack:///external \"stream\"","webpack:///external \"url\"","webpack:///external \"https\"","webpack:///external \"http\"","webpack:///./src/client-browser.js","webpack:///./src/cache.js","webpack:///./src/event-emitter.js","webpack:///./src/qs.js","webpack:///./src/error.js","webpack:///external \"form-data\""],"names":["castArray","value","Array","isArray","isObject","isFormData","constructor","toString","trim","indexOf","isStream","stream","require","Stream","CONTENT_TYPE_HEADER","REQUEST_EVENT","RESPONSE_EVENT","ERROR_EVENT","DONE_EVENT","Request","path","method","body","tags","undefined","unwrap","cacheTTL","headers","queryParams","encoding","timeout","key","headerName","set","Object","assign","form","FormData","formData","formKey","forEach","formValue","hasOwnProperty","append","options","ttl","reset","cache","deleteByTags","contentType","ms","emit","queryString","qs","stringify","cached","get","Promise","resolve","type","isJSON","JSON","unwrapBody","res","cacheResponse","flushCache","verbose","console","log","toUpperCase","decodeURIComponent","request","send","then","parseBody","checkStatus","result","error","successHandler","errorHandler","promise","EventEmitter","parse","e","response","status","ResponseError","defineProperty","XMLHttpRequest","sender","sendXmlHttpRequest","sendNodeAPIRequest","methods","exports","module","reject","u","https","protocol","host","hostname","port","pathname","search","_send","Buffer","httpClient","req","strings","buffers","bufferLength","statusCode","statusText","statusMessage","on","chunk","isBuffer","push","length","concat","join","destroy","Error","pipe","write","end","getHeaders","getLength","err","isNaN","byteLength","sendRequest","responseType","open","onload","handleLoadEvent","parseHeaders","getAllResponseHeaders","responseText","Uint8Array","onerror","handleErrorEvent","ontimeout","handleTimeout","keys","setRequestHeader","headersString","parsed","split","line","i","substr","val","cacheItem","currentTime","Date","getTime","tagsMatches","a","b","RegExp","test","tagsContainMatches","find","aTag","bTag","Cache","flushInterval","setFlushInterval","map","Map","flushTimer","clearInterval","setInterval","flush","bind","unref","now","CACHE_FLUSH_INTERVAL","events","eventName","callback","filter","c","args","obj","tokens","encodeURIComponent","parseError","message","code"],"mappings":"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","file":"backendless-request.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"BackendlessRequest\"] = factory();\n\telse\n\t\troot[\"BackendlessRequest\"] = factory();\n})(typeof self !== 'undefined' ? self : this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 3);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 4910fb674d300a06c54a","/**\n * Casts `value` as an array if it's not one.\n * Equvivalent to lodash/castArray\n */\nexport const castArray = value => {\n  return Array.isArray(value) ? value : [value]\n}\n\nexport const isObject = value => null != value && typeof value === 'object'\n\nexport const isFormData = value => {\n  return value && value.constructor && value.constructor.toString().trim().indexOf('function FormData') === 0\n}\n\nexport const isStream = value => {\n  const stream = require('stream')\n\n  return value instanceof stream.Stream\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/utils.js","throw new Error('This Backendless JS SDK assembly is not intended for Node.js environment. You should use \"lib\" folder modules instead. For any questions please contact as at http://support.backendless.com/')\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"buffer\"\n// module id = 1\n// module chunks = 0","import { cache } from './cache'\nimport EventEmitter from './event-emitter'\nimport * as qs from './qs'\nimport { castArray, isObject, isFormData } from './utils'\nimport { ResponseError } from './error'\n\nconst CONTENT_TYPE_HEADER = 'Content-Type'\n\nconst REQUEST_EVENT = 'request'\nconst RESPONSE_EVENT = 'response'\nconst ERROR_EVENT = 'error'\nconst DONE_EVENT = 'done'\n\nexport class Request extends EventEmitter {\n\n  constructor(path, method, body) {\n    super()\n\n    this.method = method\n    this.path = path\n    this.body = body\n    this.tags = undefined\n    this.unwrap = true\n    this.cacheTTL = 0\n    this.headers = {}\n    this.queryParams = {}\n    this.encoding = 'utf8'\n    this.timeout = 0\n  }\n\n  /**\n   * Sets a header\n   *\n   * @param {String|Object} key or map of headers\n   * @param {String} [value]\n   * @returns {Request}\n   */\n  set(key, value) {\n    if (isObject(key)) {\n      for (const headerName in key) {\n        this.set(headerName, key[headerName])\n      }\n    } else if (typeof value !== 'undefined') {\n      this.headers[key] = value\n    }\n\n    return this\n  }\n\n  /**\n   * Which kind of tags this request affects.\n   * Used for cache validation.\n   * Non GET requests with defined tags, will clean all related to these tags caches\n   *\n   * @param {Array.<String>} tags\n   * @returns {Request}\n   */\n  cacheTags(...tags) {\n    this.tags = tags\n\n    return this\n  }\n\n  /**\n   * @param {Object} queryParams\n   * @returns {Request}\n   */\n  query(queryParams) {\n    Object.assign(this.queryParams, queryParams)\n\n    return this\n  }\n\n  form(form) {\n    if (form) {\n      const FormData = Request.FormData\n\n      if (form instanceof FormData) {\n        this.body = form\n      } else {\n        const formData = new FormData()\n\n        for (const formKey in form) {\n          if (formKey) {\n            castArray(form[formKey]).forEach(formValue => {\n              if (formValue && formValue.hasOwnProperty('value') && formValue.hasOwnProperty('options')) {\n                formData.append(formKey, formValue.value, formValue.options)\n              } else {\n                formData.append(formKey, formValue)\n              }\n            })\n          }\n        }\n\n        this.body = formData\n      }\n    }\n\n    return this\n  }\n\n  /**\n   * Should we cache or use cached result\n   *\n   * @param {Number} ttl Time to live for cached response. 15 seconds by default\n   * @returns {Request}\n   */\n  useCache(ttl = 15000) {\n    this.cacheTTL = ttl\n\n    return this\n  }\n\n  /**\n   * Reset cache if passed TRUE and tags has been specified before\n   *\n   * @param {Boolean} reset - flag to reset cache or not\n   * @returns {Request}\n   */\n  resetCache(reset) {\n    if (reset && this.tags) {\n      cache.deleteByTags(this.tags)\n    }\n\n    return this\n  }\n\n  /**\n   * Shortcut for req.set('Content-Type', value)\n   *\n   * @param {String} contentType\n   * @returns {Request}\n   */\n  type(contentType) {\n    this.set(CONTENT_TYPE_HEADER, contentType)\n\n    return this\n  }\n\n  /**\n   * Should we unwrap the response and return only body. true by default\n   * @param {Boolean} unwrap\n   * @returns {Request}\n   */\n  unwrapBody(unwrap) {\n    this.unwrap = unwrap\n\n    return this\n  }\n\n  /**\n   * set encoding to response\n   * works only for Node js\n   *\n   * @param {String} encoding\n   * @returns {Request}\n   */\n  setEncoding(encoding) {\n    this.encoding = encoding\n\n    return this\n  }\n\n  /**\n   * A number specifying request timeout in milliseconds.\n   * @param {Number} ms\n   * @returns {Request}\n   */\n  setTimeout(ms) {\n    this.timeout = ms\n\n    return this\n  }\n\n  /**\n   * Sends the requst\n   *\n   * @param {Object} body\n   * @returns {Promise}\n   */\n  send(body) {\n    this.emit(REQUEST_EVENT, this)\n\n    let path = this.path\n    const queryString = qs.stringify(this.queryParams)\n\n    if (queryString) {\n      path += '?' + queryString\n    }\n\n    if (this.cacheTTL) {\n      const cached = cache.get(path)\n\n      if (cached !== undefined) {\n        return Promise.resolve(cached)\n      }\n    }\n\n    const type = this.headers[CONTENT_TYPE_HEADER]\n\n    if (!type && isObject(body) && !isFormData(body)) {\n      this.type('application/json')\n    }\n\n    if (body) {\n      const isJSON = this.headers[CONTENT_TYPE_HEADER] === 'application/json'\n\n      body = (isJSON && typeof body !== 'string') ? JSON.stringify(body) : body\n    }\n\n    const unwrapBody = res => {\n      return this.unwrap ? res.body : res\n    }\n\n    /**\n     * Caches the response if required\n     */\n    const cacheResponse = res => {\n      if (this.cacheTTL) {\n        cache.set(path, res, this.tags, this.cacheTTL)\n      }\n\n      return res\n    }\n\n    /**\n     * Deletes all relevant to req.cacheTags keys from the cache if this request method is not GET\n     */\n    const flushCache = res => {\n      if (this.tags && this.method !== 'get') {\n        cache.deleteByTags(this.tags)\n      }\n\n      return res\n    }\n\n    if (Request.verbose) {\n      console.log(this.method.toUpperCase(), decodeURIComponent(path), body, this.headers)\n    }\n\n    const request = Request.send(path, this.method.toUpperCase(), this.headers, body, this.encoding, this.timeout)\n      .then(parseBody)\n      .then(checkStatus)\n      .then(unwrapBody)\n      .then(cacheResponse)\n      .then(flushCache)\n\n    request\n      .then(result => {\n        this.emit(RESPONSE_EVENT, result)\n        this.emit(DONE_EVENT, null, result)\n      })\n      .catch(error => {\n        this.emit(ERROR_EVENT, error)\n        this.emit(DONE_EVENT, error)\n      })\n\n    return request\n  }\n\n  /**\n   * If you are too lazy to use method 'send', don't use it and stay cool :)\n   *\n   * @param {Function} successHandler\n   * @param {Function} errorHandler\n   * @returns {Promise}\n   */\n  then(successHandler, errorHandler) {\n    this.promise = this.promise || this.send(this.body)\n\n    return this.promise.then(successHandler, errorHandler)\n  }\n\n  /**\n   * @param {Function} errorHandler\n   * @returns {Promise}\n   */\n  catch(errorHandler) {\n    this.promise = this.promise || this.send(this.body)\n\n    return this.promise.catch(errorHandler)\n  }\n}\n\nfunction parseBody(res) {\n  try {\n    return { ...res, body: JSON.parse(res.body) }\n  } catch (e) {\n    return res\n  }\n}\n\n/**\n * Checks if a network request came back fine, and throws an error if not\n *\n * @param  {object} response   A response from a network request\n *\n * @return {object|undefined} Returns either the response, or throws an error\n */\nfunction checkStatus(response) {\n  if (response.status >= 200 && response.status < 300) {\n    return response\n  }\n\n  throw new ResponseError(response)\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/request.js","import { sendNodeAPIRequest } from './client-node'\nimport { sendXmlHttpRequest } from './client-browser'\nimport { Request } from './request'\n\nObject.defineProperty(Request, 'FormData', {\n  get() {\n    return typeof FormData !== 'undefined' ? FormData : require('form-data')\n  }\n})\n\nRequest.XMLHttpRequest = typeof XMLHttpRequest !== 'undefined' ? XMLHttpRequest : undefined\n\nRequest.send = (path, method, headers, body, encoding, timeout) => {\n  const sender = typeof Request.XMLHttpRequest !== 'undefined'\n    ? sendXmlHttpRequest\n    : sendNodeAPIRequest\n\n  return sender(path, method, headers, body, encoding, timeout)\n}\n\nRequest.verbose = false\n\nRequest.methods = ['get', 'post', 'put', 'patch', 'delete']\nRequest.methods.forEach(method => {\n  Request[method] = function(path, body) {\n    return new Request(path, method, body)\n  }\n})\n\nexports = module.exports = Request\n\nexport default Request\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import { isFormData, isStream } from './utils'\n\nexport function sendNodeAPIRequest(path, method, headers, body, encoding, timeout) {\n  return new Promise((resolve, reject) => {\n    const u = require('url').parse(path)\n    const form = isFormData(body) && body\n\n    const https = u.protocol === 'https:'\n    const options = {\n      host: u.hostname,\n      port: u.port || (https ? 443 : 80),\n      path: u.pathname + (u.search || ''),\n      method,\n      headers,\n      timeout,\n    }\n\n    const _send = () => {\n      const Buffer = require('buffer').Buffer\n      const httpClient = require(https ? 'https' : 'http')\n\n      const req = httpClient.request(options, res => {\n        const strings = []\n        const buffers = []\n        let bufferLength = 0\n        let body = ''\n\n        const { statusCode: status, statusMessage: statusText, headers } = res\n\n        res.on('data', chunk => {\n          if (!Buffer.isBuffer(chunk)) {\n            strings.push(chunk)\n\n          } else if (chunk.length) {\n            bufferLength += chunk.length\n            buffers.push(chunk)\n          }\n        })\n\n        res.on('end', () => {\n          if (bufferLength) {\n            body = Buffer.concat(buffers, bufferLength)\n\n            if (encoding != null) {\n              body = body.toString(encoding)\n            }\n\n          } else if (strings.length) {\n            body = strings.join()\n          }\n\n          resolve({ status, statusText, headers, body })\n        })\n\n        res.on('error', reject)\n      })\n\n      req.on('error', reject)\n\n      req.on('timeout', () => {\n        req.destroy(new Error('Connection aborted due to timeout'))\n      })\n\n      if (body) {\n        if (isStream(body)) {\n          body.pipe(req)\n          return\n        }\n\n        req.write(body)\n      }\n\n      req.end()\n    }\n\n    if (form) {\n      Object.assign(options.headers, form.getHeaders())\n\n      form.getLength(function(err, length) {\n        if (!err && !isNaN(length)) {\n          options.headers['content-length'] = length\n        }\n\n        _send()\n      })\n    } else {\n      if (body && !options.headers['content-length']) {\n        const Buffer = require('buffer').Buffer\n        options.headers['content-length'] = Buffer.byteLength(body)\n      }\n\n      _send()\n    }\n  })\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/client-node.js","throw new Error('This Backendless JS SDK assembly is not intended for Node.js environment. You should use \"lib\" folder modules instead. For any questions please contact as at http://support.backendless.com/')\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"stream\"\n// module id = 5\n// module chunks = 0","throw new Error('This Backendless JS SDK assembly is not intended for Node.js environment. You should use \"lib\" folder modules instead. For any questions please contact as at http://support.backendless.com/')\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"url\"\n// module id = 6\n// module chunks = 0","throw new Error('This Backendless JS SDK assembly is not intended for Node.js environment. You should use \"lib\" folder modules instead. For any questions please contact as at http://support.backendless.com/')\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"https\"\n// module id = 7\n// module chunks = 0","throw new Error('This Backendless JS SDK assembly is not intended for Node.js environment. You should use \"lib\" folder modules instead. For any questions please contact as at http://support.backendless.com/')\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"http\"\n// module id = 8\n// module chunks = 0","import { Request } from './request'\n\nexport function sendXmlHttpRequest(path, method, headers, body, encoding, timeout) {\n  return new Promise(function sendRequest(resolve, reject) {\n    let request = new Request.XMLHttpRequest()\n\n    request.timeout = timeout\n\n    if (!encoding) {\n      request.responseType = 'arraybuffer'\n    }\n\n    request.open(method.toUpperCase(), path, true)\n\n    request.onload = function handleLoadEvent() {\n      const headers = parseHeaders(request.getAllResponseHeaders())\n      const { status, statusText } = request\n\n      const result = { status, statusText, headers }\n\n      if (encoding === 'utf8') {\n        result.body = request.response || request.responseText\n      } else if (request.response) {\n        result.body = new Uint8Array(request.response)\n      }\n\n      resolve(result)\n\n      request = null\n    }\n\n    request.onerror = function handleErrorEvent() {\n      reject(new Error('Network Error'))\n\n      request = null\n    }\n\n    request.ontimeout = function handleTimeout() {\n      reject(new Error('Connection aborted due to timeout'))\n\n      request = null\n    }\n\n    Object.keys(headers).forEach(key => {\n      request.setRequestHeader(key, headers[key])\n    })\n\n    request.send(body)\n  })\n}\n\nfunction parseHeaders(headersString) {\n  const parsed = {}\n\n  if (!headersString) {\n    return parsed\n  }\n\n  headersString.split('\\n').forEach(line => {\n    const i = line.indexOf(':')\n    const key = line.substr(0, i).trim()\n    const val = line.substr(i + 1).trim()\n\n    if (key) {\n      parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val\n    }\n  })\n\n  return parsed\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/client-browser.js","/**\n * @typedef {Object} CacheItem\n * @property {*} value\n * @property {Array.<RegExp|String>} tags\n * @property {Number} ttl\n */\n\n/**\n * @param {*} value\n * @param {Array.<RegExp|String>}tags\n * @param {Number} ttl\n * @returns {CacheItem}\n */\nconst cacheItem = (value, tags, ttl) => ({ value, tags, ttl })\n\nconst currentTime = () => new Date().getTime()\n\n/**\n * Returns true if tag A matches tag B :\n *  - if they are non-strictly equal\n *  - if one of them is Regexp matching the opposite\n *\n * @param {String|RegExp} a\n * @param {String|RegExp} b\n * @returns {Boolean}\n */\nconst tagsMatches = (a, b) => {\n  let result = a == b // eslint-disable-line\n\n  if (!result && a instanceof RegExp) {\n    result = a.test(b)\n  }\n\n  if (!result && b instanceof RegExp) {\n    result = b.test(a)\n  }\n\n  return result\n}\n\n/**\n * Returns true if any of A tags matches any of B tags\n *\n * @param {Array.<String|RegExp>} a\n * @param {Array.<String|RegExp>} b\n * @returns {Boolean}\n */\nconst tagsContainMatches = (a, b) => {\n  return !!a.find(aTag => b.find(bTag => tagsMatches(aTag, bTag)))\n}\n\n/**\n * A Cache with TTL and optional tags for the keys\n * Makes it possible to assign multiple tags for a key and delete keys by tags\n * Optionally it starts flushing timer which cleans all outdated keys\n */\nclass Cache {\n\n  /**\n   * @param {Number?} flushInterval\n   */\n  constructor(flushInterval) {\n    this.setFlushInterval(flushInterval)\n\n    /**\n     * @type {Map.<String, CacheItem>}\n     */\n    this.map = new Map()\n  }\n\n  setFlushInterval(flushInterval) {\n    this.flushInterval = flushInterval\n\n    if (this.flushTimer) {\n      clearInterval(this.flushTimer)\n      delete this.flushTimer\n    }\n  }\n\n  /**\n   * @param {String} key\n   * @returns {*}\n   */\n  get(key) {\n    const cacheItem = this.map.get(key)\n\n    if (cacheItem) {\n      if (cacheItem.ttl > currentTime()) {\n        return cacheItem.value\n      } else {\n        this.map.delete(key)\n      }\n    }\n  }\n\n  /**\n   * @param {String} key\n   * @param {*} value\n   * @param {Array.<RegExp|String>=} tags\n   * @param {Number=} ttl\n   */\n  set(key, value, tags, ttl ) {\n    this.map.set(key, cacheItem(value, tags, currentTime() + ttl))\n\n    if (this.flushInterval && !this.flushTimer) {\n      this.flushTimer = setInterval(this.flush.bind(this), this.flushInterval)\n\n      if (this.flushTimer.unref) {\n        this.flushTimer.unref()\n      }\n    }\n  }\n\n  /**\n   * @param {String} key\n   */\n  delete(key) {\n    this.map.delete(key)\n  }\n\n  deleteAll() {\n    for (const [key] of this.map) {\n      this.delete(key)\n    }\n  }\n\n  /**\n   * @param {Array.<String>} tags\n   */\n  deleteByTags(tags) {\n    for (const [key, value] of this.map) {\n      if (value.tags && tagsContainMatches(tags, value.tags)) {\n        this.delete(key)\n      }\n    }\n  }\n\n  /**\n   * Deletes all outdated keys\n   */\n  flush() {\n    const now = currentTime()\n\n    for (const [key, value] of this.map) {\n      if (value.ttl < now) {\n        this.delete(key)\n      }\n    }\n  }\n}\n\nconst CACHE_FLUSH_INTERVAL = 60000 //60 sec\n\nexport const cache = new Cache(CACHE_FLUSH_INTERVAL)\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/cache.js","export default class EventEmitter {\n\n  constructor() {\n    this.events = {}\n  }\n\n  on(eventName, callback) {\n    this.events[eventName] = this.events[eventName] || []\n    this.events[eventName].push(callback)\n\n    return this\n  }\n\n  off(eventName, callback) {\n    if (!eventName) {\n      this.events = {}\n\n    } else if (this.events[eventName]) {\n      if (callback) {\n        this.events[eventName] = this.events[eventName].filter(c => c !== callback)\n      } else {\n        delete this.events[eventName]\n      }\n    }\n\n    return this\n  }\n\n  emit(eventName, ...args) {\n    if (this.events[eventName]) {\n      this.events[eventName].forEach(callback => callback(...args))\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/event-emitter.js","import { castArray } from './utils'\n\n/**\n * Produces a URL query string from a given obj by iterating through the object's \"own properties\".\n * @param {Object} obj\n * @returns {string}\n */\nexport const stringify = obj => {\n  const tokens = []\n\n  Object.keys(obj).forEach(key => {\n    const value = obj[key]\n\n    if (value !== undefined) {\n      castArray(value).forEach(value => {\n        tokens.push(`${ encodeURIComponent(key) }=${ encodeURIComponent(value) }`)\n      })\n    }\n  })\n\n  return tokens.join('&')\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/qs.js","export class ResponseError extends Error {\n  constructor(response) {\n    super()\n\n    const error = parseError(response)\n\n    this.message = error.message || error\n    this.code = error.code\n\n    this.status = response.status\n    this.headers = response.headers\n    this.body = response.body\n  }\n}\n\nfunction parseError(res) {\n  if (res.status === 502) {\n    return 'No connection with server'\n  }\n\n  return res.body || `Status Code ${res.status} (${res.statusText})`\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/error.js","throw new Error('This Backendless JS SDK assembly is not intended for Node.js environment. You should use \"lib\" folder modules instead. For any questions please contact as at http://support.backendless.com/')\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"form-data\"\n// module id = 14\n// module chunks = 0"],"sourceRoot":""}